---
title: "造轮子之时间轮算法的原理与实现"
date: 2020-05-19T23:11:43+08:00
lastmod: 2021-11-29
subtitle:    "待补充"
description: "待续。"
author:      MoyuCoder
image:       "img/theme/go1.png"
tags:        ["规划"]
categories:  ["Tech"]
---
# 造轮子之时间轮算法的原理与实现

## 背景

前不久在做一个内部错误日志告警的工具服务，具体工作是定时去es内检索项目下的错误日志，并且将返回的内容告警到顶顶群内。其中涉及到了定时任务，当时我的做法是为每个项目创建一个timer，然后按一定时间周期性的执行。这个是我能想到的 最笨的办法，大哥说我这个太耗性能，项目组多的时候，得起多少个定时器啊。并且给我介绍了时间轮的概念。

后来调研了下该算法后，发现挺优雅的，于是写下该篇文章记录一下调研到的知识，并且用自己擅长的语言给这个算法造个轮子。我的目标是多实现使用到的工具或算法，通过造轮子来提升编程能力。(不是重复发明轮子)

## 时间轮

想象一下，我们每天9点半上班，那么会定8点50的闹钟，当时间走到8点50分的时候，闹钟响，然后我们起床、穿衣、洗漱、整理、出门走到公司，我们像是把一个定时任务给插入到了8点50这一个刻度了，每天8点50，闹钟响，我们执行该刻度上的任务。

### 时间轮是什么

时间轮是一种算法。用于定时器，可以非常优雅地执行定时任务。

### 为什么要用时间轮



### 时间轮的分类

基本时间轮

分层时间轮

## 参考文章

- [算法-时间轮]([https://www.veaxen.com/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E8%BD%AE.html](https://www.veaxen.com/算法-时间轮.html))